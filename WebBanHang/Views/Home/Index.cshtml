@{
    ViewBag.Title = "Home Page";
    var slides = ViewBag.Slides;
    var listNewProducts = (List<Models.EF.Product>)ViewBag.NewProducts;
    var listFeatureProducts = (List<Models.EF.Product>)ViewBag.ListFeatureProducts;
}
@{
    // Assuming you have a variable to store the current language (e.g., "currentLanguage")
    string currentLanguage = Session[Models.CommonConstants.CurrentCulture].ToString();
}
@section slide{
    <aside class="header-department">
        @{ Html.RenderAction("PartialProductCategory", "Products");}
    </aside>
}
<main class="main-wrapper">

    <!-- Start Slider Area -->
    <div class="axil-main-slider-area main-slider-style-2">
        <div class="container">
            <div class="slider-offset-left">
                <div class="row row--20">
                    <div class="col-lg-12">
                        <div class="slider-box-wrap">
                            <div class="slider-activation-one axil-slick-dots">
                                @foreach (var item in slides)
                                {
                                    <div class="single-slide slick-slide">
                                        <div class="main-slider-content">

                                            <h1 class="title">@item.Description</h1>
                                            <div class="shop-btn">
                                                <a href="@item.Link" class="axil-btn">@StaticRescouces.ResourceUser.MuaNgay<i class="fal fa-long-arrow-right"></i></a>
                                            </div>
                                        </div>
                                        <div class="main-slider-thumb">
                                            <img src="@item.Image" alt="Product">
                                        </div>
                                    </div>

                                }

                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- End Slider Area -->

    <div class="service-area">
        <div class="container">
            <div class="row row-cols-xl-5 row-cols-lg-5 row-cols-md-3 row-cols-sm-2 row-cols-1 row--20">
                <div class="col">
                    <div class="service-box">
                        <div class="icon">
                            <img src="~/Content/User/assets/images/icons/service1.png" alt="Service">
                        </div>
                        <h6 class="title">@StaticRescouces.ResourceUser.Giaohang</h6>
                    </div>
                </div>
                <div class="col">
                    <div class="service-box">
                        <div class="icon">
                            <img src="~/Content/User/assets/images/icons/service2.png" alt="Service">
                        </div>
                        <h6 class="title">@StaticRescouces.ResourceUser.Dambao</h6>
                    </div>
                </div>
                <div class="col">
                    <div class="service-box">
                        <div class="icon">
                            <img src="~/Content/User/assets/images/icons/service3.png" alt="Service">
                        </div>
                        <h6 class="title">@StaticRescouces.ResourceUser.Chinhsach</h6>
                    </div>
                </div>
                <div class="col">
                    <div class="service-box">
                        <div class="icon">
                            <img src="~/Content/User/assets/images/icons/service4.png" alt="Service">
                        </div>
                        <h6 class="title">@StaticRescouces.ResourceUser.Chinhsach</h6>
                    </div>
                </div>
                <div class="col">
                    <div class="service-box">
                        <div class="icon">
                            <img src="~/Content/User/assets/images/icons/service5.png" alt="Service">
                        </div>
                        <h6 class="title">@StaticRescouces.ResourceUser.SanPhamChatLuong</h6>
                    </div>
                </div>
            </div>
        </div>
    </div>







    <!-- Start New Arrivals Product Area  -->
    @Html.Action("Partial_ProductSales", "Products")
    <!--Brow Cateogyr-->
    <!-- Start Categorie Area  -->
    <div class="axil-categorie-area bg-color-white axil-section-gapcommon">
        <div class="container">
            <div class="section-title-wrapper">
                <span class="title-highlighter highlighter-secondary"> <i class="far fa-tags"></i> @StaticRescouces.ResourceUser.DanhMuc</span>
                <h2 class="title">@StaticRescouces.ResourceUser.CacLoaiDanhMuc</h2>
            </div>
            <div class="slick-single-layout">
                @Html.Action("MenuProductCategory", "Menu")
            </div>
        </div>
    </div>
    <!-- End Categorie Area  -->
    <!--Brow Cateogyr-->
    <!-- End New Arrivals Product Area  -->
    <!-- Start Best Sellers Product Area  -->
    <div class="axil-best-seller-product-area bg-color-white axil-section-gap pb--50 pb_sm--30">
        <div class="container">
            <div class="section-title-wrapper">
                <span class="title-highlighter highlighter-secondary"><i class="far fa-shopping-basket"></i>@StaticRescouces.ResourceUser.TrongThangNay</span>
                <h2 class="title">@StaticRescouces.ResourceUser.SanPhamBanChayNhat</h2>
            </div>
            <div class="new-arrivals-product-activation-2 product-transparent-layout slick-layout-wrapper--15 axil-slick-arrow arrow-top-slide product-slide-mobile">
                @foreach (var item in listFeatureProducts)
                {
                    var strImage = "";
                    var img = item.ProductImage.FirstOrDefault(x => x.IsDefaul);
                    if (img != null)
                    {
                        strImage = img.image;
                    }
                    <div class="slick-single-layout">
                        <div class="axil-product product-style-seven">
                            <div class="product-content">
                                <div class="cart-btn">
                                    <a href="#" class="btnAddToCart" data-id="@item.Id">
                                        <i class="flaticon-shopping-cart"></i>
                                    </a>
                                </div>
                                <div class="inner">
                                    <h5 class="title"><a href="/chi-tiet/@item.Alias-p@(item.Id)">@item.Title</a></h5>
                                    <div class="product-price-variant">
                                        @*@if (item.PriceSale > 0)
        {

            <span class="price old-price">@Models.Common.Common.FormatNumber(item.Price, 0) &#8363;</span>
            <span class="price current-price">@Models.Common.Common.FormatNumber(item.PriceSale, 0) &#8363;</span>
        }
        else
        {

            <span class="price current-price">@Models.Common.Common.FormatNumber(item.Price, 0) &#8363;</span>
        }*@

                                        @if ((currentLanguage == "vi"))
                                        {
                                            if (item.PriceSale > 0)
                                            {

                                                <span class="price old-price">@Models.Common.Common.FormatNumber(item.Price, 0)  @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>
                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.PriceSale, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>
                                            }
                                            else
                                            {

                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.Price, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>

                                            }
                                        }
                                        else
                                        {
                                            if (item.PriceSale > 0)
                                            {

                                                <span class="price old-price">@Models.Common.Common.FormatNumber(item.Price / 24310, 0)  @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>
                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.PriceSale / 24310, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien);</span>
                                            }
                                            else
                                            {

                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.Price / 24310, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>

                                            }
                                        }
                                    </div>
                                    <div class="product-rating">
                                        <span class="icon">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                        </span>
                                        <span class="rating-number">(64)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="thumbnail">
                                <a href="/chi-tiet/@item.Alias-p@(item.Id)">
                                    <img data-sal="zoom-out" data-sal-delay="100" data-sal-duration="800" loading="lazy" src="@strImage" alt="@item.Title">
                                </a>
                            </div>
                        </div>
                    </div>

                }

            </div>
        </div>
    </div>
    <!-- End  Best Sellers Product Area  -->
    <!-- Poster Countdown Area  -->
    @*<div class="axil-poster-countdown">
            <div class="container">
                <div class="poster-countdown-wrap bg-lighter">
                    <div class="row">
                        <div class="col-xl-5 col-lg-6">
                            <div class="poster-countdown-content">
                                <div class="section-title-wrapper">
                                    <span class="title-highlighter highlighter-secondary"> <i class="far fa-shopping-basket"></i> Don’t Miss!!</span>
                                    <h2 class="title">Let's Shopping Today</h2>
                                </div>
                                <div class="poster-countdown countdown mb--40"></div>
                                <a href="#" class="axil-btn btn-bg-primary">Check it Out!</a>
                            </div>
                        </div>
                        <div class="col-xl-7 col-lg-6">
                            <div class="poster-countdown-thumbnail">
                                <img src="~/Content/User/assets/images/product/poster/poster-05.png" alt="Poster Product">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>*@
    <!-- End Poster Countdown Area  -->






    @Html.Action("MenuArraival", "Menu")



    <!-- Start New Arrivals Product Area  -->
    <div class="axil-new-arrivals-product-area bg-color-white axil-section-gap pb--50">
        <div class="container">
            <div class="section-title-wrapper">
                <span class="title-highlighter highlighter-primary"><i class="far fa-shopping-basket"></i> @StaticRescouces.ResourceUser.TrongTuanNay</span>
                <h2 class="title">@StaticRescouces.ResourceUser.HangMoi</h2>
            </div>
            <div class="new-arrivals-product-activation slick-layout-wrapper--30 axil-slick-arrow  arrow-top-slide">
                @foreach (var item in listNewProducts)
                {
                    var strImage = "";
                    var img = item.ProductImage.FirstOrDefault(x => x.IsDefaul);
                    if (img != null)
                    {
                        strImage = img.image;
                    }
                    <div class="slick-single-layout">
                        <div class="axil-product product-style-two has-color-pick">
                            <div class="thumbnail">
                                <a href="/chi-tiet/@item.Alias-p@(item.Id)">
                                    <img data-sal="fade" data-sal-delay="100" data-sal-duration="1500" src="@strImage" alt="@item.Title">
                                </a>
                                <div class="label-block label-right">
                                    @if (item.PriceSale > 0)
                                    {

                                        <div class="product-badget"> @(Math.Round((double)((item.Price - item.PriceSale) / item.Price * 100), 0))% @StaticRescouces.ResourceUser.Giam</div>
                                    }
                                </div>
                            </div>
                            <div class="product-content">
                                <div class="inner">
                                    @*<div class="color-variant-wrapper">
                                            <ul class="color-variant">
                                                <li class="color-extra-01 active">
                                                    <span><span class="color"></span></span>
                                                </li>
                                                <li class="color-extra-02">
                                                    <span><span class="color"></span></span>
                                                </li>
                                                <li class="color-extra-03">
                                                    <span><span class="color"></span></span>
                                                </li>
                                            </ul>
                                        </div>*@
                                    <h5 class="title"><a href="/chi-tiet/@item.Alias-p@(item.Id)">@item.Title</a></h5>
                                    <div class="product-price-variant">
                                        @*@if (item.PriceSale > 0)
        {

            <span class="price old-price">@Models.Common.Common.FormatNumber(item.Price, 0) &#8363;</span>
            <span class="price current-price">@Models.Common.Common.FormatNumber(item.PriceSale, 0) &#8363;</span>
        }
        else
        {

            <span class="price current-price">@Models.Common.Common.FormatNumber(item.Price, 0) &#8363;</span>
        }*@
                                        @if ((currentLanguage == "vi"))
                                        {
                                            if (item.PriceSale > 0)
                                            {

                                                <span class="price old-price">@Models.Common.Common.FormatNumber(item.Price, 0)  @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>
                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.PriceSale, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>
                                            }
                                            else
                                            {

                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.Price, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>

                                            }
                                        }
                                        else
                                        {
                                            if (item.PriceSale > 0)
                                            {

                                                <span class="price old-price">@Models.Common.Common.FormatNumber(item.Price / 24310, 0)  @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>
                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.PriceSale / 24310, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien);</span>
                                            }
                                            else
                                            {

                                                <span class="price current-price">@Models.Common.Common.FormatNumber(item.Price / 24310, 0) @Html.Raw(StaticRescouces.ResourceUser.Tien)</span>

                                            }
                                        }
                                    </div>
                                </div>
                                <div class="product-hover-action">
                                    <ul class="cart-action justify-content-center">
                                        @*<li class="wishlist"><a href="wishlist.html"><i class="far fa-heart"></i></a></li>*@
                                        <li class="select-option"><a href="#" class="btnAddToCart" data-id="@item.Id">@StaticRescouces.ResourceUser.ThemGioHang</a></li>
                                        @*data-bs-toggle="modal" data-bs-target="#quick-view-modal"*@
                                        <li class="quickview"><a href="/chi-tiet/@item.Alias-p@(item.Id)"><i class="far fa-eye"></i></a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- End .slick-single-layout -->
                }


            </div>
        </div>
    </div>
    @Html.Action("Partial_News_Home", "News");
    <!-- End New Arrivals Product Area  -->
    <!-- Start Axil Newsletter Area  -->
    @Html.Action("Partial_subcrice", "Home")
    <!-- End Axil Newsletter Area  -->

</main>
